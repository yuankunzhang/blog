<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | Yuankun's Blog</title><meta name=keywords content><meta name=description content="Posts - Yuankun's Blog"><meta name=author content="Yuankun"><link rel=canonical href=https://yuankun.me/posts/><link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><link rel=icon href=https://yuankun.me/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://yuankun.me/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://yuankun.me/favicon-32x32.png><link rel=apple-touch-icon href=https://yuankun.me/apple-touch-icon.png><link rel=mask-icon href=https://yuankun.me/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://yuankun.me/posts/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Posts"><meta property="og:description" content="Always do what you're afraid to do"><meta property="og:type" content="website"><meta property="og:url" content="https://yuankun.me/posts/"><meta property="og:site_name" content="Yuankun's Blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content="Always do what you're afraid to do"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://yuankun.me/posts/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://yuankun.me accesskey=h title="Yuankun's Blog (Alt + H)">Yuankun's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://yuankun.me/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://yuankun.me/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://yuankun.me/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://yuankun.me/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://yuankun.me/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://yuankun.me>Home</a></div><h1>Posts
<a href=index.xml title=RSS aria-label=RSS><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class=post-entry><header class=entry-header><h2>传奇程序员 Andreas Kling 和他的 SerenityOS</h2></header><div class=entry-content><p>我们今天故事的主角，是一个叫做Andreas Kling的瑞典程序员。
这个月的 9 月 12 日，Andreas 在他的个人网站上刊出了一篇文章来介绍他的Ladybird浏览器项目。浏览器大概是这个星球上最为庞大的软件项目，从零开始写出一个即便只是玩票性质的浏览器也是一项惊人困难的任务。如果你对它的难度没有直观认识的话，不妨猜一猜 Firefox 浏览器总共有多少行代码？答案是2100万行！数量庞杂（并且仍在爆炸式增加）的各种web标准使得编写浏览器几乎成了只有互联网寡头才能组织起人力和资源来完成的事情。所以，Andreas 的这个几乎以一己之力做出来的浏览器完全值得让人拍手称奇。
Figure 1: Ladybird 浏览器以满分的成绩通过了Acid3测试
事实上，在 Ladybird 项目之前，Andreas 已经完成了多项壮举，比如一个叫做SerenityOS的操作系统和一门叫做Jakt的系统级编程语言。用他自己的话说，他的目标是“从头编写一个完整的操作系统”。这些项目，不论单独拎出来哪一个，都显得过于庞大。如果这些项目的代码不是实实在在摆在大家的面前的话，我一定觉得这个人是痴人说梦。
而所有这些项目的起点，都可以追溯到 Andreas 下定决心戒除毒瘾的那个秋天。
没错，Andreas 曾经沾染毒瘾，是一名瘾君子。2018 年 10 月份，在结束了 3 个月的戒断治疗后，为了打发漫长难遣的时间，他开始疯狂地写起了代码。一开始，他完成了一个可执行文件的解析器。渐渐地，他又陆续写出来一个文件系统浏览器和一个图形界面框架。这时候 Andreas 惊奇地发现，一个简易的操作系统其实已经呼之欲出了。于是他将这若干个基础部件组合成一个操作系统，并称之为 SerenityOS。
Figure 2: 这是一款吸收了 90 年代美学理念的类 Unix 系统
这个由 Andreas 在 2018 年单枪匹马创建的项目，到现在已经蔚为大观。不同于浏览器，从头开始写出一个简单的操作系统并非难事，难的是聚拢各路牛人，形成真正有活力的社区。截至今日，该项目已经斩获了两万一千多颗 Github 星标，共有超过 700 位开发者向该项目贡献了代码。在我看来，Andreas 的这个操作系统谈不上有什么实际的用途，最多只是一个稍具规模的玩具而已。不过，不少重量级的软件都是“玩”出来的，难道不是吗？比如 Linux，这个在今天已经无处不在的操作系统（你甚至在火星上也能发现它的存在），Linux Torvalds 最初发布它的时候可没有想到有一天它竟会大放异采。
Figure 3: 图片来源：NASA
时至今日，Andreas 依然耕耘不辍，几乎全年无休。我们就以他的 Github 状态墙的截图结束本文吧，希望他能在写代码的道路上继续快乐地走下去。</p></div><footer class=entry-footer><span title='2022-09-14 23:18:00 +0800 +0800'>September 14, 2022</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;59 words&nbsp;·&nbsp;Yuankun Zhang</footer><a class=entry-link aria-label="post link to 传奇程序员 Andreas Kling 和他的 SerenityOS" href=https://yuankun.me/posts/andreas-kling-and-his-serenityos/></a></article><article class=post-entry><header class=entry-header><h2>Setup a Development Machine</h2></header><div class=entry-content><p>A few days ago, I did a home server build. Today I want to have a clean OS reinstallation on my development machine, because of a few things:
The root partition on this machine is almost full (thank you, my two years ago self). I got a lot of __common_interrupt: 1.55 No irq handler for vector errors during the system bootup. There’s a thread in the Arch Forum discussing this issue. I tried booting up the system with several different combinations of kernel parameters mentioned in the thread, but none helped. It seems like the only working solution is to upgrade the BIOS firmware. I cannot decrypt the root partition without using my bluetooth keyboard, in the meantime I cannot use my bluetooth keyboard before the root partition is decrypted and mounted (because the bluetooth service sits in the root partition). This is a chicken-egg problem. My current hack around is to use a wired USB keyboard to decrypt the root parition. But I desperately want to eliminate the use of this USB keyboard. ...</p></div><footer class=entry-footer><span title='2021-07-07 20:50:45 +0800 +0800'>July 7, 2021</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;483 words&nbsp;·&nbsp;Yuankun</footer><a class=entry-link aria-label="post link to Setup a Development Machine" href=https://yuankun.me/posts/dev-machine-setup/></a></article><article class=post-entry><header class=entry-header><h2>My Home Server Setup</h2></header><div class=entry-content><p>Recently I got some retired computer hardware. Better than putting it in the corner and let it absorb dust, I’ve been planning to turn it into a home server. My main goal is to use it primarily as a Samba Server, but I may go futher to run other self-hosted services like NextCloud.
In this article I’ll talk about my setup of this home server.
...</p></div><footer class=entry-footer><span title='2021-06-21 20:50:45 +0800 +0800'>June 21, 2021</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;1158 words&nbsp;·&nbsp;Yuankun</footer><a class=entry-link aria-label="post link to My Home Server Setup" href=https://yuankun.me/posts/home-server-setup/></a></article><article class=post-entry><header class=entry-header><h2>A Terraform Module to List Google Cloud Service Agents</h2></header><div class=entry-content><p>There are two types of service accounts in Google Cloud: user-managed service accounts, which are used by user applications to talk to Google Cloud; and Google-managed services accounts, which are used by Google Cloud internally. Among the second category, there is a special subtype of service accounts called Google Cloud Service Agents. Service Agents are used by Google Cloud services to run internal processes so that user requested operations can be fulfilled.
A service agent has the following pattern:
service-PROJECT_NUMBER@SERVICE_NAME.iam.gserviceaccount.com You can spot the service agents from the IAM section of Google Cloud Console.
When managing IAM binding policies via Terraform, these service agents often generate noises. As an example, I’ll show you a code snippet coming from one of our Terraform files (I’m using xxxxx instead of the real project number).
...</p></div><footer class=entry-footer><span title='2020-04-01 23:47:03 +0800 +0800'>April 1, 2020</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;285 words&nbsp;·&nbsp;Yuankun</footer><a class=entry-link aria-label="post link to A Terraform Module to List Google Cloud Service Agents" href=https://yuankun.me/posts/a-terraform-module-to-list-google-cloud-service-agents/></a></article><article class=post-entry><header class=entry-header><h2>Debug Linux Kernel With QEMU and GDB</h2></header><div class=entry-content><p>In last post we see how to run a raw Linux kernel in QEMU. QEMU offers another fancy feature: it can start a GDB Server and external GDB Debugger to connect. With this we can build a comfortable environment to debug system kernels and firmware. Let’s see how to leverage this feature to debug the Linux kernel.
...</p></div><footer class=entry-footer><span title='2020-03-20 09:31:33 +0800 +0800'>March 20, 2020</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;418 words&nbsp;·&nbsp;Yuankun</footer><a class=entry-link aria-label="post link to Debug Linux Kernel With QEMU and GDB" href=https://yuankun.me/posts/debug-linux-kernel-with-qemu-and-gdb/></a></article><article class=post-entry><header class=entry-header><h2>Running Raw Linux Kernel in QEMU</h2></header><div class=entry-content><p>In last post we see how to run a packed Linux distribution in QEMU. This time let’s check out how to run a raw Linux kernel in QEMU.
...</p></div><footer class=entry-footer><span title='2020-03-16 22:50:52 +0800 +0800'>March 16, 2020</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;730 words&nbsp;·&nbsp;Yuankun</footer><a class=entry-link aria-label="post link to Running Raw Linux Kernel in QEMU" href=https://yuankun.me/posts/running-raw-linux-kernel-in-qemu/></a></article><article class=post-entry><header class=entry-header><h2>Running Alpine Linux in QEMU</h2></header><div class=entry-content><p>How to run a Linux operating system in QEMU.
...</p></div><footer class=entry-footer><span title='2020-03-14 09:41:41 +0800 +0800'>March 14, 2020</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;463 words&nbsp;·&nbsp;Yuankun</footer><a class=entry-link aria-label="post link to Running Alpine Linux in QEMU" href=https://yuankun.me/posts/running-alpine-linux-in-qemu/></a></article><article class=post-entry><header class=entry-header><h2>Publishing Subdirectory to Github Pages</h2></header><div class=entry-content><p>I’m using Hugo + Github Pages as my personal blog platform. A Hugo site yields the following directory structure, where the public/ subdirectory stores the generated static pages:
├── archetypes/ ├── config.toml ├── content/ ├── data/ ├── layouts/ ├── public/ ├── resources/ ├── static/ └── themes/ How do I publish the public/ subdirectory, instead of the root directory, to Github Pages?
...</p></div><footer class=entry-footer><span title='2020-03-12 22:14:58 +0800 +0800'>March 12, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;145 words&nbsp;·&nbsp;Yuankun</footer><a class=entry-link aria-label="post link to Publishing Subdirectory to Github Pages" href=https://yuankun.me/posts/publishing-subdirectory-to-github-pages/></a></article></main><footer class=footer><span>&copy; 2022 <a href=https://yuankun.me>Yuankun's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>